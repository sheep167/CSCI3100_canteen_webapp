<!-- 
  /canteen/templates/admin/admin_comments.html
  Copyright (c) 2021-2022  CUFoodOrder
  @author: Yiu Chun To <yiuchunto@gmail.com>
  @version: 1.0
  @since 2022-02-10
  @last updated: 2022-05-02
-->

<!--
  admin_comments.html is used for displaying comments data of a canteen
  (posted time, posted user, rating, content) in a tabular format.
  The page is used by admin for managing comments.
  It is rendered by overview_canteens_data in admin.py
-->

{% extends 'base.html' %}
{% set active_page = "canteens" %}

{% block title %}
Admin Page - Comments Overview
{% endblock %}

{% block content %}
<div class="container-fluid my-4">
  <h2 class="mx-4">{{canteen.name}} Comments</h2>
  <a class="btn btn-success mx-4" href="/add/canteens/{{canteen._id}}/comments">Add Comment</a>
  <hr class="mx-4">
  <div class="row mx-4">
    <table class="table table-hover border-bottom border-right border-left text-center">
      <thead class="thead-dark my-auto">
        <tr>
          <!-- posted at -->
          <th style="width:20%">Posted At Time</th>
          <!-- posted by -->
          <th style="width:20%">Posted By User</th>
          <!-- rating -->
          <th style="width:20%">Rating</th>
          <!-- paragraph -->
          <th style="width:20%">Paragraph</th>
          <!-- edit -->
          <th style="width:10%"></th>
          <!-- delete -->
          <th style="width:10%"></th>
        </tr>
      </thead>
      {% for comment in comments %}
      <tbody>
        <tr>
          <td>{{comment.at_time}}</td>
          <td>{{comment.by_user}}</td>
          <td>{{comment.rating}}</td>
          <td>{{comment.paragraph}}</td>
          <!-- edit button -->
          <td><a href="/edit/canteens/{{canteen._id}}/comments/{{comment._id}}" class="btn btn-primary">Edit</a></td>
          <!-- delete button -->
          <td><a href="/delete/canteens/{{canteen._id}}/comments/{{comment._id}}" class="btn btn-danger">Delete</a></td>
        </tr>
      </tbody>
      {% endfor %}
    </table>
  </div>
</div>
{% endblock %}