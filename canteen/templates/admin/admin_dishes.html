<!-- 
  /canteen/templates/admin/admin_dishes.html
  Copyright (c) 2021-2022  CUFoodOrder
  @author: Yiu Chun To <yiuchunto@gmail.com>
  @version: 1.0
  @since 2022-02-10
  @last updated: 2022-05-02
-->

<!--
  THIS PAGE IS DEPRECATED

  admin_dishes.html displays dishes data in a tabular format.
  The page used to be used by admin for managing dishes.
  Now, the page for managin dishes is supported by canteen/menu.html instead.
-->


{% extends 'base.html' %}
{% set active_page = "canteens" %}

{% block title %}
Admin Page - Dishes Overview
{% endblock %}

{% block content %}
<div class="container-fluid my-4">
  <h2 class="mx-4">{{canteen.name}} Dishes</h2>
  <a class="btn btn-success mx-4" href="/add/canteens/{{canteen._id}}/dishes">Add dish</a>
  <hr class="mx-4">
  <div class="row mx-4">
    <table class="table table-hover border-bottom border-right border-left text-center">
      <thead class="thead-dark my-auto">
        <tr>
          <!-- name -->
          <th style="width:15%">Name</th>
          <!-- price -->
          <th style="width:10%">Price</th>
          <!-- image -->
          <th style="width:20%">Image</th>
          <!-- image path -->
          <th style="width:15%">Image Path</th>
          <!-- edit -->
          <th style="width:15%"></th>
          <!-- delete -->
          <th style="width:15%"></th>
        </tr>
      </thead>
      {% for dish in dishes %}
      <tbody>
        <tr>
          <!-- name -->
          <td>{{dish.name}}</td>
          <!-- price -->
          <td>{{dish.price}}</td>
          <!-- image -->
          <td>
            {% if dish.image_path %}
              <img src={{dish.image_path}} width="400">
            {% else %}
              No image for this dish
            {% endif %}
          </td>
          <!-- image path -->
          <td>{{dish.image_path}}</td>
          <!-- edit button -->
          <td><a href="/edit/canteens/{{canteen._id}}/dishes/{{dish._id}}" class="btn btn-primary">Edit</a></td>
          <!-- delete -->
          <td><a href="/delete/canteens/{{canteen._id}}/dishes/{{dish._id}}" class="btn btn-danger">Delete</a></td>
        </tr>
      </tbody>
      {% endfor %}
    </table>
  </div>
</div>
{% endblock %}